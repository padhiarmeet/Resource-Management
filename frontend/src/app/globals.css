@import "tailwindcss";

/* Override Tailwind's dark mode to use class-based detection (.dark on <html>)
   instead of the default @media (prefers-color-scheme: dark) */
@variant dark (&:where(.dark, .dark *));


/* ─── Light Theme Variables ─── */
:root {
  --background: #f8fafc;
  --foreground: #0f172a;
  --primary: #6366f1;
  --primary-foreground: #ffffff;
}

/* ─── Dark Theme Variables ─── */
:root.dark {
  --background: #0d1117;
  --foreground: #e6edf3;
  --surface: #161b22;
  --surface-2: #1c2333;
  --border: #30363d;
  --border-subtle: #21262d;
  --accent: #7c3aed;
  --accent-fg: #ddd6fe;
}

/* ─── Dark body base ─── */
:root.dark body {
  background-color: var(--background);
  color: var(--foreground);
}

/* Dim the polka-dot pattern in dark mode */
:root.dark body::before {
  background-image: radial-gradient(#1e293b 2px, transparent 2px);
  opacity: 0.35;
}

/* ─── Force light theme when the page root has is-map-page ─── */
/* Covers landing page, login, and signup which all add this class to their root */
:root.dark body:has(> .is-map-page) {
  background-color: #f8fafc !important;
  color: #0f172a !important;
}

:root.dark body:has(> .is-map-page)::before {
  display: none;
}

/* ═══════════════════════════════════════════════════
   ALL DARK MODE RULES ARE SCOPED TO NON-MAP/LOGIN PAGES
   (pages without .is-map-page on a parent element)
   ═══════════════════════════════════════════════════ */

/* ─── Backgrounds ─── */
:root.dark body:not(.is-map-page) .bg-white {
  background-color: #161b22 !important;
  border-color: #30363d !important;
}

:root.dark body:not(.is-map-page) .bg-slate-50 {
  background-color: #0d1117 !important;
}

:root.dark body:not(.is-map-page) .bg-slate-100 {
  background-color: #1c2333 !important;
  border-color: #30363d !important;
}

:root.dark body:not(.is-map-page) .bg-slate-200 {
  background-color: #21262d !important;
}

:root.dark body:not(.is-map-page) .bg-slate-800 {
  background-color: #161b22 !important;
}

:root.dark body:not(.is-map-page) .bg-slate-900 {
  background-color: #6366f1 !important;
  color: #ffffff !important;
  border-color: #4f46e5 !important;
}

/* ─── Text Colors ─── */
:root.dark body:not(.is-map-page) .text-slate-900 {
  color: #e6edf3 !important;
}

:root.dark body:not(.is-map-page) .text-slate-800 {
  color: #c9d1d9 !important;
}

:root.dark body:not(.is-map-page) .text-slate-700 {
  color: #b1bac4 !important;
}

:root.dark body:not(.is-map-page) .text-slate-600 {
  color: #8b949e !important;
}

:root.dark body:not(.is-map-page) .text-slate-500 {
  color: #6e7681 !important;
}

:root.dark body:not(.is-map-page) .text-slate-400 {
  color: #484f58 !important;
}

/* ─── Borders ─── */
:root.dark body:not(.is-map-page) .border-slate-100 {
  border-color: #21262d !important;
}

:root.dark body:not(.is-map-page) .border-slate-200 {
  border-color: #30363d !important;
}

:root.dark body:not(.is-map-page) .border-slate-300 {
  border-color: #3d444d !important;
}

/* ─── Hover States ─── */
:root.dark body:not(.is-map-page) .hover\:bg-slate-50:hover {
  background-color: #1c2333 !important;
}

:root.dark body:not(.is-map-page) .hover\:bg-slate-100:hover {
  background-color: #21262d !important;
}

/* ─── Inputs & Selects ─── */
:root.dark body:not(.is-map-page) input,
:root.dark body:not(.is-map-page) select,
:root.dark body:not(.is-map-page) textarea {
  background-color: #161b22 !important;
  color: #e6edf3 !important;
  border-color: #30363d !important;
}

:root.dark body:not(.is-map-page) input::placeholder,
:root.dark body:not(.is-map-page) textarea::placeholder {
  color: #484f58 !important;
}

/* ─── Indigo Accents (primary brand color) ─── */
:root.dark body:not(.is-map-page) .bg-indigo-50 {
  background-color: #1e1b4b !important;
  color: #a5b4fc !important;
}

:root.dark body:not(.is-map-page) .bg-indigo-50\/50 {
  background-color: rgba(30, 27, 75, 0.5) !important;
}

:root.dark body:not(.is-map-page) .bg-indigo-100 {
  background-color: #312e81 !important;
  color: #a5b4fc !important;
}

:root.dark body:not(.is-map-page) .bg-indigo-200 {
  background-color: #3730a3 !important;
  color: #a5b4fc !important;
}

:root.dark body:not(.is-map-page) .border-indigo-100 {
  border-color: #312e81 !important;
}

:root.dark body:not(.is-map-page) .border-indigo-200 {
  border-color: #3730a3 !important;
}

:root.dark body:not(.is-map-page) .text-indigo-600 {
  color: #818cf8 !important;
}

:root.dark body:not(.is-map-page) .text-indigo-700 {
  color: #a5b4fc !important;
}

:root.dark body:not(.is-map-page) .text-indigo-800 {
  color: #c7d2fe !important;
}

:root.dark body:not(.is-map-page) .text-indigo-900 {
  color: #c7d2fe !important;
}

/* ─── Violet ─── */
:root.dark body:not(.is-map-page) .bg-violet-50 {
  background-color: #2e1065 !important;
  color: #c4b5fd !important;
}

:root.dark body:not(.is-map-page) .border-violet-100 {
  border-color: #4c1d95 !important;
}

:root.dark body:not(.is-map-page) .text-violet-700 {
  color: #c4b5fd !important;
}

/* ─── Status Badges ─── */
/* Amber / Warning */
:root.dark body:not(.is-map-page) .bg-amber-50 {
  background-color: #2d1600 !important;
  color: #f59e0b !important;
}

:root.dark body:not(.is-map-page) .bg-amber-100 {
  background-color: #3d2400 !important;
  color: #fbbf24 !important;
}

:root.dark body:not(.is-map-page) .border-amber-100 {
  border-color: #78350f !important;
}

:root.dark body:not(.is-map-page) .border-amber-200 {
  border-color: #92400e !important;
}

:root.dark body:not(.is-map-page) .text-amber-600 {
  color: #f59e0b !important;
}

:root.dark body:not(.is-map-page) .text-amber-700 {
  color: #fbbf24 !important;
}

:root.dark body:not(.is-map-page) .text-amber-800 {
  color: #fcd34d !important;
}

/* Green / Success */
:root.dark body:not(.is-map-page) .bg-green-50 {
  background-color: #0a1f0a !important;
  color: #22c55e !important;
}

:root.dark body:not(.is-map-page) .bg-green-100 {
  background-color: #14362a !important;
  color: #4ade80 !important;
}

:root.dark body:not(.is-map-page) .border-green-100 {
  border-color: #166534 !important;
}

:root.dark body:not(.is-map-page) .text-green-600 {
  color: #22c55e !important;
}

:root.dark body:not(.is-map-page) .text-green-700 {
  color: #4ade80 !important;
}

/* Blue / Info */
:root.dark body:not(.is-map-page) .bg-blue-50 {
  background-color: #0c1929 !important;
  color: #60a5fa !important;
}

:root.dark body:not(.is-map-page) .bg-blue-100 {
  background-color: #1e3a5f !important;
  color: #93c5fd !important;
}

:root.dark body:not(.is-map-page) .text-blue-700 {
  color: #93c5fd !important;
}

/* Red / Danger */
:root.dark body:not(.is-map-page) .bg-red-50 {
  background-color: #2c0a0a !important;
  color: #f87171 !important;
}

:root.dark body:not(.is-map-page) .bg-red-100 {
  background-color: #3b1212 !important;
  color: #fca5a5 !important;
}

:root.dark body:not(.is-map-page) .text-red-700 {
  color: #fca5a5 !important;
}

/* Purple */
:root.dark body:not(.is-map-page) .bg-purple-100 {
  background-color: #2c0f47 !important;
  color: #d8b4fe !important;
}

:root.dark body:not(.is-map-page) .text-purple-700 {
  color: #d8b4fe !important;
}

/* Orange */
:root.dark body:not(.is-map-page) .bg-orange-100 {
  background-color: #2d1200 !important;
  color: #fdba74 !important;
}

:root.dark body:not(.is-map-page) .text-orange-700 {
  color: #fdba74 !important;
}

/* Emerald */
:root.dark body:not(.is-map-page) .bg-emerald-100 {
  background-color: #032d1c !important;
  color: #6ee7b7 !important;
}

:root.dark body:not(.is-map-page) .text-emerald-600 {
  color: #34d399 !important;
}

/* ─── Kanban Board columns ─── */
:root.dark body:not(.is-map-page) .bg-amber-50\/50 {
  background-color: rgba(45, 22, 0, 0.5) !important;
}

:root.dark body:not(.is-map-page) .bg-blue-50\/50 {
  background-color: rgba(12, 25, 41, 0.5) !important;
}

:root.dark body:not(.is-map-page) .bg-green-50\/50 {
  background-color: rgba(10, 31, 10, 0.5) !important;
}

:root.dark body:not(.is-map-page) .bg-slate-100\/50 {
  background-color: rgba(28, 35, 51, 0.5) !important;
}

/* ─── Sidebar bottom user pane ─── */
:root.dark body:not(.is-map-page) .border-t.border-slate-100 {
  border-top-color: #21262d !important;
}

/* ─── Timetable: time column cells (bg-white) ─── */
:root.dark body:not(.is-map-page) .border-r.border-slate-100.bg-white {
  background-color: #0d1117 !important;
  border-right-color: #21262d !important;
}

/* Remove shadow from booking slot cards in dark mode */
:root.dark body:not(.is-map-page) .shadow-sm {
  box-shadow: none !important;
}

:root.dark body:not(.is-map-page) .shadow-md {
  box-shadow: none !important;
}

/* Schedule page outer wrapper */
:root.dark body:not(.is-map-page) .min-h-screen.bg-slate-50 {
  background-color: var(--background) !important;
}

/* ─── Gradient backgrounds ─── */
:root.dark body:not(.is-map-page) .bg-gradient-to-r.from-indigo-50 {
  --tw-gradient-from: #1e1b4b !important;
}

/* ─── Rose / Rejected ─── */
:root.dark body:not(.is-map-page) .bg-rose-50 {
  background-color: #2c0a12 !important;
  color: #fb7185 !important;
}

:root.dark body:not(.is-map-page) .bg-rose-100 {
  background-color: #3b1118 !important;
  color: #fda4af !important;
}

:root.dark body:not(.is-map-page) .border-rose-200 {
  border-color: #9f1239 !important;
}

:root.dark body:not(.is-map-page) .hover\:border-rose-300:hover {
  border-color: #be123c !important;
}

:root.dark body:not(.is-map-page) .text-rose-700 {
  color: #fb7185 !important;
}

/* ─── Emerald badges (manage users) ─── */
:root.dark body:not(.is-map-page) .bg-emerald-50 {
  background-color: #022c22 !important;
  color: #34d399 !important;
}

:root.dark body:not(.is-map-page) .text-emerald-700 {
  color: #34d399 !important;
}

:root.dark body:not(.is-map-page) .border-emerald-100 {
  border-color: #065f46 !important;
}

/* ─── Table rows and dividers ─── */
:root.dark body:not(.is-map-page) .divide-y>*+* {
  border-top-color: #21262d !important;
}

:root.dark body:not(.is-map-page) .divide-slate-100>*+* {
  border-top-color: #21262d !important;
}

:root.dark body:not(.is-map-page) .divide-y.divide-slate-200>*+* {
  border-top-color: #30363d !important;
}

/* Table head row */
:root.dark body:not(.is-map-page) thead tr {
  background-color: #161b22 !important;
  border-bottom-color: #30363d !important;
}

:root.dark body:not(.is-map-page) tbody tr:hover {
  background-color: #1c2333 !important;
}

/* ─── Timetable / Schedule grid pieces ─── */

/* Header row (day headers) */
:root.dark body:not(.is-map-page) .grid.bg-slate-100 {
  background-color: #161b22 !important;
}

/* Break row */
:root.dark body:not(.is-map-page) .bg-slate-100\/50 {
  background-color: rgba(22, 27, 34, 0.6) !important;
}

/* Available booking slot button */
:root.dark body:not(.is-map-page) .border-dashed.border-slate-200 {
  border-color: #30363d !important;
}

/* Hover on slots */
:root.dark body:not(.is-map-page) .hover\:border-indigo-400:hover {
  border-color: #818cf8 !important;
}

/* Divider in timetable (h-8 w-px bg-slate-200) */
:root.dark body:not(.is-map-page) .bg-slate-200:not([class*="w-"]) {
  background-color: #30363d !important;
}

/* Time label background pill in break row */
:root.dark body:not(.is-map-page) .rounded-full.border.border-slate-200 {
  background-color: #161b22 !important;
  border-color: #30363d !important;
  color: #8b949e !important;
}

/* Approved booking cards */
:root.dark body:not(.is-map-page) .border-emerald-200 {
  border-color: #064e3b !important;
}

:root.dark body:not(.is-map-page) .hover\:border-emerald-300:hover {
  border-color: #065f46 !important;
}

/* Amber booking cards */
:root.dark body:not(.is-map-page) .border-amber-200 {
  border-color: #78350f !important;
}

:root.dark body:not(.is-map-page) .hover\:border-amber-300:hover {
  border-color: #92400e !important;
}

/* ─── Base body ─── */
body {
  color: var(--foreground);
  background: var(--background);
  font-family: var(--font-geist-sans), sans-serif;
  min-height: 100vh;
  position: relative;
}

/* ─── Polka Dot Background Pattern ─── */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: radial-gradient(#cbd5e1 2px, transparent 2px);
  background-size: 24px 24px;
  mask-image: radial-gradient(circle at center, black 60%, transparent 100%);
  pointer-events: none;
  z-index: -1;
  opacity: 0.6;
}

/* ─── Glassmorphism Utilities ─── */
.glass-card {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

:root.dark .glass-card {
  background: rgba(22, 27, 34, 0.8);
  border: 1px solid rgba(48, 54, 61, 0.8);
}

/* ─── Custom Scrollbar Styles ─── */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 10px;
}

:root.dark .custom-scrollbar::-webkit-scrollbar-thumb {
  background: #30363d;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}